(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{9349:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var l=a(5155),r=a(2115),t=a(2177),i=a(221),n=a(5594),c=a(3004),d=a(5317),o=a(6104),m=a(5695),x=a(6874),h=a.n(x),u=a(285),p=a(6695),j=a(2523),f=a(7759),g=a(7481),v=a(5365),w=a(1133);let N=n.Ik({name:n.Yj().min(2,{message:"Name must be at least 2 characters."}),email:n.Yj().email({message:"Invalid email address."}),password:n.Yj().min(6,{message:"Password must be at least 6 characters."})});function b(){let e=(0,m.useRouter)(),{toast:s}=(0,g.dj)(),[a,n]=(0,r.useState)(null),[x,b]=(0,r.useState)(!1),y=(0,t.mN)({resolver:(0,i.u)(N),defaultValues:{name:"",email:"",password:""}}),C=async a=>{b(!0),n(null);try{let s=await (0,c.df)(o.j2,a),r=s.user,t=(0,c.B8)(s);if(null==t?void 0:t.isNewUser){var l;await (0,d.BN)((0,d.H9)(o.db,"users",r.uid),{uid:r.uid,name:r.displayName,email:r.email,avatarUrl:r.photoURL||"https://placehold.co/100x100.png?text=".concat(null==(l=r.displayName)?void 0:l.charAt(0)),bio:""})}e.push("/home")}catch(e){n(e.message),s({variant:"destructive",title:"Sign Up Failed",description:e.message})}finally{b(!1)}},B=async a=>{b(!0),n(null);try{let s=(await (0,c.eJ)(o.j2,a.email,a.password)).user;await (0,c.r7)(s,{displayName:a.name}),await (0,d.BN)((0,d.H9)(o.db,"users",s.uid),{uid:s.uid,name:a.name,email:a.email,avatarUrl:"https://placehold.co/100x100.png?text=".concat(a.name.charAt(0)),bio:""}),e.push("/home")}catch(e){n(e.message),s({variant:"destructive",title:"Sign Up Failed",description:e.message})}finally{b(!1)}};return(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,l.jsxs)(p.Zp,{className:"w-full max-w-md mx-4",children:[(0,l.jsxs)(p.aR,{className:"text-center flex flex-col items-center",children:[(0,l.jsx)("img",{src:"/yrdly-logo.png",alt:"Yrdly Logo",className:"h-24 w-24 mb-4"}),(0,l.jsx)(p.ZB,{className:"text-3xl font-bold font-headline",children:"Create an account"}),(0,l.jsx)(p.BT,{children:"Enter your information to create an account"})]}),(0,l.jsxs)(p.Wu,{children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)(u.$,{variant:"outline",onClick:()=>C(o.hJ),disabled:x,children:[(0,l.jsx)("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:(0,l.jsx)("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 23.4 172.9 61.9l-76.2 76.2c-27.3-25.2-65-41-106.3-41-84.3 0-152.3 67.4-152.3 150.9s68 150.9 152.3 150.9c98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Google"]}),(0,l.jsxs)(u.$,{variant:"outline",onClick:()=>C(o.sm),disabled:x,children:[(0,l.jsx)("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"apple",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:(0,l.jsx)("path",{fill:"currentColor",d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C39.2 141.6 0 184.2 0 241.2c0 61.6 31.5 118.8 80.1 142.6 20.7 10.2 43.4 15.6 65.7 15.6 62.2 0 89.4-40.2 127.9-40.2 39.2 0 65.7 40.2 127.9 40.2 21.5 0 43.7-4.7 64.1-14.2-67.2-34.9-102.5-102.3-102.5-167.5zM298.1 82.5c24.5-32.9 44.5-54.8 44.5-82.5-26.6 1.3-55.5 15.9-74.2 34.3-20.5 20.5-39.2 49.9-39.2 78.5 28.5 2.8 56.6-14.2 68.9-30.3z"})}),"Apple"]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,l.jsx)("span",{className:"w-full border-t"})}),(0,l.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,l.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]})]}),(0,l.jsx)(f.lV,{...y,children:(0,l.jsxs)("form",{onSubmit:y.handleSubmit(B),className:"space-y-4 pt-4",children:[(0,l.jsx)(f.zB,{control:y.control,name:"name",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Name"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(j.p,{placeholder:"John Doe",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)(f.zB,{control:y.control,name:"email",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Email"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(j.p,{placeholder:"name@example.com",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)(f.zB,{control:y.control,name:"password",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Password"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(j.p,{type:"password",placeholder:"••••••••",...s})}),(0,l.jsx)(f.C5,{})]})}}),a&&(0,l.jsxs)(v.Fc,{variant:"destructive",children:[(0,l.jsx)(w.A,{className:"h-4 w-4"}),(0,l.jsx)(v.XL,{children:"Error"}),(0,l.jsx)(v.TN,{children:a})]}),(0,l.jsx)(u.$,{type:"submit",className:"w-full",disabled:x,children:x?"Creating account...":"Create Account"})]})})]}),(0,l.jsx)(p.wL,{className:"flex flex-col gap-4",children:(0,l.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",(0,l.jsx)(h(),{href:"/login",className:"font-semibold text-primary hover:underline",children:"Login"})]})})]})})}},9704:(e,s,a)=>{Promise.resolve().then(a.bind(a,9349))}},e=>{var s=s=>e(e.s=s);e.O(0,[992,644,340,172,646,874,978,441,684,358],()=>s(9704)),_N_E=e.O()}]);